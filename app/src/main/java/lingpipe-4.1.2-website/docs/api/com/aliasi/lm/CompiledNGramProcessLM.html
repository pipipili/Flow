<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Sun Dec 04 16:36:12 EST 2016 -->
<title>CompiledNGramProcessLM (LingPipe API)</title>
<meta name="date" content="2016-12-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CompiledNGramProcessLM (LingPipe API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/aliasi/lm/CompiledNGramBoundaryLM.html" title="class in com.aliasi.lm"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/aliasi/lm/CompiledTokenizedLM.html" title="class in com.aliasi.lm"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/aliasi/lm/CompiledNGramProcessLM.html" target="_top">Frames</a></li>
<li><a href="CompiledNGramProcessLM.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.aliasi.lm</div>
<h2 title="Class CompiledNGramProcessLM" class="title">Class CompiledNGramProcessLM</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.aliasi.lm.CompiledNGramProcessLM</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/aliasi/lm/LanguageModel.html" title="interface in com.aliasi.lm">LanguageModel</a>, <a href="../../../com/aliasi/lm/LanguageModel.Conditional.html" title="interface in com.aliasi.lm">LanguageModel.Conditional</a>, <a href="../../../com/aliasi/lm/LanguageModel.Process.html" title="interface in com.aliasi.lm">LanguageModel.Process</a>, <a href="../../../com/aliasi/stats/Model.html" title="interface in com.aliasi.stats">Model</a>&lt;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">CompiledNGramProcessLM</span>
extends <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../com/aliasi/lm/LanguageModel.Process.html" title="interface in com.aliasi.lm">LanguageModel.Process</a>, <a href="../../../com/aliasi/lm/LanguageModel.Conditional.html" title="interface in com.aliasi.lm">LanguageModel.Conditional</a>, <a href="../../../com/aliasi/stats/Model.html" title="interface in com.aliasi.stats">Model</a>&lt;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&gt;</pre>
<div class="block">A <code>CompiledNGramProcessLM</code> implements a conditional
 process language model.  Instances are constructed by reading a
 serialized version of an instance of <a href="../../../com/aliasi/lm/NGramProcessLM.html" title="class in com.aliasi.lm"><code>NGramProcessLM</code></a> through
 data input.

 <P>Compiled models contain precompulted estimates and smoothing
 parameters.  For instance, consider an 3-gram process language model
 trained on the string "abracadabra", which yields the following counts:

 <blockquote>
 <pre>
    11
     a 5
       br 2
       ca 1
       da 1
    bra 2
    cad 1
    dab 1
    r 2
      a 2
         c 1
 </pre>
 </blockquote>

 For instance, <code>count("")=11</code>,
 <code>count("a")=5</code>,
 <code>count("ab")=2</code>,
 <code>count("abr")=2</code>,
 <code>count("br")=2</code>,
 <code>count("bra")=2</code>,
 <code>count("r")=2</code>, and
 <code>count("ra")=2</code>, and
 <code>count("rac")=1</code>.

 Assuming a lambda factor hyperparameter set to 4.0, the compiled
 model consists of the following five parallel arrays:

 <blockquote>
 <table border='1' cellpadding='5'>
 <tr><td>&nbsp;</td>
     <td>&nbsp;</td>
     <td><tt>char (2)</tt></td>
     <td><tt>int (4)</tt></td>
     <td><tt>float (4)</tt></td>
     <td><tt>float (4)</tt></td>
     <td><tt>int (4)</tt></td></tr>
 <tr><td><i>Index</i></td>
     <td><i>Context</i></td>
     <td><i>Char</i></td>
     <td><i>Suffix</i></td>
     <td><i>log<sub><sub>2</sub></sub> P(char|context)</i></td>
     <td><i>log<sub><sub>2</sub></sub> (1 - &lambda;(context.char))</i></td>
     <td><i>First Dtr</i></td></tr>
 <tr><td>0</td><td>n/a</td><td>n/a</td><td>n/a</td><td>n/a</td>
 <td>-0.6322682</td><td>1</td></tr>
 <tr><td>1</td><td>""</td><td>a</td><td>0</td><td>-2.6098135</td>
 <td>-0.4150375</td><td>6</td></tr>
 <tr><td>2</td><td>""</td><td>b</td><td>0</td><td>-3.8987012</td>
 <td>-0.5849625</td><td>9</td></tr>
 <tr><td>3</td><td>""</td><td>c</td><td>0</td><td>-4.845262</td>
 <td>-0.32192808</td><td>10</td></tr>
 <tr><td>4</td><td>""</td><td>d</td><td>0</td><td>-4.845262</td>
 <td>-0.32192808</td><td>11</td></tr>
 <tr><td>5</td><td>""</td><td>r</td><td>0</td><td>-3.8987012</td>
 <td>-0.5849625</td><td>12</td></tr>
 <tr><td>6</td><td>"a"</td><td>b</td><td>2</td><td>-2.5122285</td>
 <td>-0.5849625</td><td>13</td></tr>
 <tr><td>7</td><td>"a"</td><td>c</td><td>3<td>-3.4966948</td>
 <td>-0.32192808</td><td>14</td></tr>
 <tr><td>8</td><td>"a"</td><td>d</td><td>4</td><td>-3.4966948</td>
 <td>-0.32192808</td><td>15</td></tr>
 <tr><td>9</td><td>"b"</td><td>r</td><td>5</td><td>-1.4034244</td>
 <td>-0.5849625</td><td>16</td></tr>
 <tr><td>10</td><td>"c"</td><td>a</td><td>1</td><td>-1.5948515</td>
 <td>-0.32192808</td><td>17</td></tr>
 <tr><td>11</td><td>"d"</td><td>a</td><td>1</td><td>-1.5948515</td>
 <td>-0.32192808</td><td>18</td></tr>
 <tr><td>12</td><td>"r"</td><td>a</td><td>1</td><td>-1.1760978</td>
 <td>-0.32192808</td><td>19</td></tr>
 <tr><td>13</td><td>"ab"</td><td>r</td><td>9</td><td>-0.77261907</td>
 <td colspan='2' rowspan='7'>
 <i><small>This space intentionally left left blank: 
 maximum length n-grams are not contexts.</small</i></td></tr>
 <tr><td>14</td><td>"ac"</td><td>a</td><td>10</td><td>-1.1051782</td></tr>
 <tr><td>15</td><td>"ad"</td><td>a</td><td>11</td><td>-1.1051782</td></tr>
 <tr><td>16</td><td>"br"</td><td>a</td><td>12</td><td>-0.6703262</td></tr>
 <tr><td>17</td><td>"ca"</td><td>d</td><td>8</td><td>-1.8843123</td></tr>
 <tr><td>18</td><td>"da"</td><td>b</td><td>6</td><td>-1.5554274</td></tr>
 <tr><td>19</td><td>"ra"</td><td>c</td><td>7</td><td>-1.8843123</td></tr>
 </table>
 </blockquote>

 The actual data is contained in the last five columns of the table.
 Thus internal nodes require 10 bytes and terminal nodes require 18
 bytes.  The indices in the first column and the implicit context
 represented by the node are for convenience.  Each of these indices
 picks out a row in the table that corresponds to a node in the trie
 structure representing the counts.  The nodes are arranged
 according to a unicode-order breadth-first traversal of the count
 trie.  Each non-terminal node stores a character, the index of the
 suffix node (as in a suffix tree), a probability estimate for the
 character given the context of characters that led to the
 character, an interpolation value for the context represented by
 the context leading to the character plus the character itself, and
 finally a pointer to the first daughter of the node in the array.
 Note that the last daughter of a node is thus picked out by the
 first daughter of the next node minus one.  For instance, the
 daughters of node 1 are 6, 7 and 8, and the daguther of node 9 is
 16.  The terminal nodes have no daughters; note that memory is not
 allocated for these terminal cells.

 <P>The second column indicates the context derived by walking
 from the root node (index 0) down to the node.  For instance, the
 path "bra" leads from the root node 0 ("") to the node 2 ("b"), to
 node 9 ("br"), and finally to node 16 ("bra").  The tree is
 traversed by starting at the root node and looking up daughters by
 binary search.


 <P>If a full context and node are in the tree, the estimate can
 simply be looked up.  For instance,
 <code>log<sub><sub>2</sub></sub> P(b) = -3.898</code>,
 <code>log<sub><sub>2</sub></sub> P(r|b) = -1.403</code>, and
 <code>log<sub><sub>2</sub></sub> P(a|br) = -0.670</code>.  If the
 context is available, but not the outcome, the result is just the
 addition of the log one minus lambda estimates down to the first
 context for which the outcome exists.  These contexts to explore
 are all suffixes of the context currently being explored and may be
 looked up in the suffix array. For instance, consider:

 <blockquote><code>
 P(c|br) 
 = &lambda;(br) P<sub><sub>ML</sub></sub>(c|br) 
 + (1-&lambda;(br)) P(c|b)
 </code></blockquote>

 In this case, the outcome <code>c</code> is not available for the
 context <code>br</code> (the only daughter is <code>a</code>),
 hence the maximum likelihood estimate is zero, and the result
 reduces to the second term:

 <blockquote><code>
  P(c|br) = (1-&lambda;(br)) P(c|b)
 </code></blockquote>

 and hence

 <blockquote><code>
  log<sub><sub>2</sub></sub> P(c|br)
  = log<sub><sub>2</sub></sub>((1-&lambda;(br)) P(c|b))
  = log<sub><sub>2</sub></sub>(1-&lambda;(br))
    + log<sub><sub>2</sub></sub> P(c|b)
 </code></blockquote>

 This continues until the outcome is found.  In this case,
 we continue with the next term in the same way:

 <blockquote><code>
  = log<sub><sub>2</sub></sub> (1-&lambda;(br))
    + log<sub><sub>2</sub></sub> (1- &lambda;(b))
    + log<sub><sub>2</sub></sub> P(c)
 <br>
 = -0.584 + -0.584 + -0.4845
 </code></blockquote>

 Because 3-grams are the upper bound on context length, and terminal
 nodes have no daughters, we conserve length at the end of the
 smoothing and daughter arrays.

 <P>In practice, this smoothing may require going all the way
 down to the uniform model.  The uniform model estimate is
 stored separately.  The interpolation parameter for the root
 node works as for any other node.

 <P>For estimates of sequences, the final node used will act
 as the first potential context for the next estimate.  This
 replaces a number of lookups equal to the n-gram length by
 binary character search with a simple array lookup.

 <P><i>Implementation Note:</i> The suffix indices are not included
 in the binary serialization format. Instead, they are initialized
 right after the binary data is read in.  This requires walking the
 trie-structure and computing each node's suffix by doing a walk
 from the root.  For instance, a million node 8-gram model will
 require at most 8 million binary character searches during
 initialization.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>LingPipe2.0</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>3.6</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Bob Carpenter</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.com.aliasi.lm.LanguageModel">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.aliasi.lm.<a href="../../../com/aliasi/lm/LanguageModel.html" title="interface in com.aliasi.lm">LanguageModel</a></h3>
<code><a href="../../../com/aliasi/lm/LanguageModel.Conditional.html" title="interface in com.aliasi.lm">LanguageModel.Conditional</a>, <a href="../../../com/aliasi/lm/LanguageModel.Dynamic.html" title="interface in com.aliasi.lm">LanguageModel.Dynamic</a>, <a href="../../../com/aliasi/lm/LanguageModel.Process.html" title="interface in com.aliasi.lm">LanguageModel.Process</a>, <a href="../../../com/aliasi/lm/LanguageModel.Sequence.html" title="interface in com.aliasi.lm">LanguageModel.Sequence</a>, <a href="../../../com/aliasi/lm/LanguageModel.Tokenized.html" title="interface in com.aliasi.lm">LanguageModel.Tokenized</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#ROOT_NODE_INDEX">ROOT_NODE_INDEX</a></span></code>
<div class="block">The index of the root node, namely <code>0</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#log2ConditionalEstimate-char:A-int-int-">log2ConditionalEstimate</a></span>(char[]&nbsp;cs,
                       int&nbsp;start,
                       int&nbsp;end)</code>
<div class="block">Returns the log (base 2) of the probability estimate for the
 conditional probability of the last character in the specified
 slice given the previous characters.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#log2ConditionalEstimate-java.lang.CharSequence-">log2ConditionalEstimate</a></span>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;cSeq)</code>
<div class="block">Returns the log (base 2) of the probabilty estimate for the
 conditional probability of the last character in the specified
 character sequence given the previous characters.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#log2Estimate-char:A-int-int-">log2Estimate</a></span>(char[]&nbsp;cs,
            int&nbsp;start,
            int&nbsp;end)</code>
<div class="block">Returns an estimate of the log (base 2) probability of the
 specified character slice.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#log2Estimate-java.lang.CharSequence-">log2Estimate</a></span>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;cSeq)</code>
<div class="block">Returns an estimate of the log (base 2) probability of the
 specified character sequence.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#log2Estimate-int-char-">log2Estimate</a></span>(int&nbsp;contextIndex,
            char&nbsp;nextChar)</code>
<div class="block">Returns the log (base 2) estimate of the specified character in
 the context with the specified index.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#log2Prob-java.lang.CharSequence-">log2Prob</a></span>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;cSeq)</code>
<div class="block">This method is a convenience impelementation of the <a href="../../../com/aliasi/stats/Model.html" title="interface in com.aliasi.stats"><code>Model</code></a> interface which delegates the call to <a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#log2Estimate-java.lang.CharSequence-"><code>log2Estimate(CharSequence)</code></a>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#longestContextIndex-java.lang.String-">longestContextIndex</a></span>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;context)</code>
<div class="block">Return the index in the parallel array structure underlying of
 the maximum length suffix of the specified string that is
 defined as a context.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#maxNGram--">maxNGram</a></span>()</code>
<div class="block">Returns the maximum length n-gram used for this compiled
 language model.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#nextContext-int-char-">nextContext</a></span>(int&nbsp;contextIndex,
           char&nbsp;nextChar)</code>
<div class="block">Returns the index of the context formed by appending the
 specified character to the context of the specified index.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#numNodes--">numNodes</a></span>()</code>
<div class="block">Returns the total number of nodes in this language model's trie
 structure.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>char[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#observedCharacters--">observedCharacters</a></span>()</code>
<div class="block">Returns the array of characters that have been observed for this
 language model.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#prob-java.lang.CharSequence-">prob</a></span>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;cSeq)</code>
<div class="block">This method is a convenience implementation of the <a href="../../../com/aliasi/stats/Model.html" title="interface in com.aliasi.stats"><code>Model</code></a>
 interface which returns the result of raising 2.0 to the 
 power of the result of a call to <a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#log2Estimate-java.lang.CharSequence-"><code>log2Estimate(CharSequence)</code></a>.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#toString--">toString</a></span>()</code>
<div class="block">Returns a string-based representation of this compiled n-gram.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ROOT_NODE_INDEX">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ROOT_NODE_INDEX</h4>
<pre>public static final&nbsp;int ROOT_NODE_INDEX</pre>
<div class="block">The index of the root node, namely <code>0</code>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aliasi.lm.CompiledNGramProcessLM.ROOT_NODE_INDEX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="observedCharacters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>observedCharacters</h4>
<pre>public&nbsp;char[]&nbsp;observedCharacters()</pre>
<div class="block">Returns the array of characters that have been observed for this
 language model.  These are returned in increasing unicode order.

 <P>It is assumed that the observed characters are
 those stored unigram probabilities in the trie.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aliasi/lm/LanguageModel.Conditional.html#observedCharacters--">observedCharacters</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aliasi/lm/LanguageModel.Conditional.html" title="interface in com.aliasi.lm">LanguageModel.Conditional</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The array of characters that have been observed
 for this language model.</dd>
</dl>
</li>
</ul>
<a name="maxNGram--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxNGram</h4>
<pre>public&nbsp;int&nbsp;maxNGram()</pre>
<div class="block">Returns the maximum length n-gram used for this compiled
 language model.  The maximum amount of context used for
 estimates will be one less than this.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The maximum length n-gram counted in this language
 model.</dd>
</dl>
</li>
</ul>
<a name="numNodes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numNodes</h4>
<pre>public&nbsp;int&nbsp;numNodes()</pre>
<div class="block">Returns the total number of nodes in this language model's trie
 structure.  This represents the total number of sequences for
 which there are precompiled conditional probability estimates.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The total number of nodes in the underlying trie
 structure.</dd>
</dl>
</li>
</ul>
<a name="longestContextIndex-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>longestContextIndex</h4>
<pre>public&nbsp;int&nbsp;longestContextIndex(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;context)</pre>
<div class="block">Return the index in the parallel array structure underlying of
 the maximum length suffix of the specified string that is
 defined as a context.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - String of context.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>int Index of maximum length suffix of the specified
 context.</dd>
</dl>
</li>
</ul>
<a name="log2Prob-java.lang.CharSequence-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log2Prob</h4>
<pre>public&nbsp;double&nbsp;log2Prob(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;cSeq)</pre>
<div class="block">This method is a convenience impelementation of the <a href="../../../com/aliasi/stats/Model.html" title="interface in com.aliasi.stats"><code>Model</code></a> interface which delegates the call to <a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#log2Estimate-java.lang.CharSequence-"><code>log2Estimate(CharSequence)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aliasi/stats/Model.html#log2Prob-E-">log2Prob</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aliasi/stats/Model.html" title="interface in com.aliasi.stats">Model</a>&lt;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cSeq</code> - Character sequence whose probability is returned.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The log (base 2) probability of the specified character sequence.</dd>
</dl>
</li>
</ul>
<a name="prob-java.lang.CharSequence-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prob</h4>
<pre>public&nbsp;double&nbsp;prob(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;cSeq)</pre>
<div class="block">This method is a convenience implementation of the <a href="../../../com/aliasi/stats/Model.html" title="interface in com.aliasi.stats"><code>Model</code></a>
 interface which returns the result of raising 2.0 to the 
 power of the result of a call to <a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#log2Estimate-java.lang.CharSequence-"><code>log2Estimate(CharSequence)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aliasi/stats/Model.html#prob-E-">prob</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aliasi/stats/Model.html" title="interface in com.aliasi.stats">Model</a>&lt;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cSeq</code> - Character sequence whose probability is returned.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The log probability of the specified character sequence.</dd>
</dl>
</li>
</ul>
<a name="log2Estimate-java.lang.CharSequence-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log2Estimate</h4>
<pre>public final&nbsp;double&nbsp;log2Estimate(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;cSeq)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../com/aliasi/lm/LanguageModel.html#log2Estimate-java.lang.CharSequence-">LanguageModel</a></code></span></div>
<div class="block">Returns an estimate of the log (base 2) probability of the
 specified character sequence.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aliasi/lm/LanguageModel.html#log2Estimate-java.lang.CharSequence-">log2Estimate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aliasi/lm/LanguageModel.html" title="interface in com.aliasi.lm">LanguageModel</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cSeq</code> - Character sequence to estimate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Log estimate of likelihood of specified character
 sequence.</dd>
</dl>
</li>
</ul>
<a name="log2Estimate-int-char-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log2Estimate</h4>
<pre>public final&nbsp;double&nbsp;log2Estimate(int&nbsp;contextIndex,
                                 char&nbsp;nextChar)</pre>
<div class="block">Returns the log (base 2) estimate of the specified character in
 the context with the specified index.  This corresponds to
 values returned by the conditional estimates when the context
 and outcome character are specified in a singlecharacter sequence or
 slice.
 
 
 <P>The main use of this method is to incrementally compute
 conditional estimates and contexts, in conjunction with the
 method <a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#nextContext-int-char-"><code>nextContext(int,char)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextIndex</code> - Index of context of estimate.</dd>
<dd><code>nextChar</code> - Character being estimated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Log (base 2) estimate of character in context.</dd>
</dl>
</li>
</ul>
<a name="nextContext-int-char-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextContext</h4>
<pre>public&nbsp;int&nbsp;nextContext(int&nbsp;contextIndex,
                       char&nbsp;nextChar)</pre>
<div class="block">Returns the index of the context formed by appending the
 specified character to the context of the specified index.  The
 main use of this method is to incrementally compute conditional
 estimates and contexts, in conjunction with the method <a href="../../../com/aliasi/lm/CompiledNGramProcessLM.html#log2Estimate-int-char-"><code>log2Estimate(int,char)</code></a>.  

 <P>Note that the index of the root node is always <code>0</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextIndex</code> - Index of present context.</dd>
<dd><code>nextChar</code> - Next character.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Index of context formed by appending next character to
 the present context.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - If the context index is less
 than zero or greater than the last context index.</dd>
</dl>
</li>
</ul>
<a name="log2Estimate-char:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log2Estimate</h4>
<pre>public final&nbsp;double&nbsp;log2Estimate(char[]&nbsp;cs,
                                 int&nbsp;start,
                                 int&nbsp;end)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../com/aliasi/lm/LanguageModel.html#log2Estimate-char:A-int-int-">LanguageModel</a></code></span></div>
<div class="block">Returns an estimate of the log (base 2) probability of the
 specified character slice.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aliasi/lm/LanguageModel.html#log2Estimate-char:A-int-int-">log2Estimate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aliasi/lm/LanguageModel.html" title="interface in com.aliasi.lm">LanguageModel</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cs</code> - Underlying array of characters.</dd>
<dd><code>start</code> - Index of first character in slice.</dd>
<dd><code>end</code> - One plus index of last character in slice.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Log estimate of likelihood of specified character
 sequence.</dd>
</dl>
</li>
</ul>
<a name="log2ConditionalEstimate-java.lang.CharSequence-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log2ConditionalEstimate</h4>
<pre>public&nbsp;double&nbsp;log2ConditionalEstimate(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;cSeq)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../com/aliasi/lm/LanguageModel.Conditional.html#log2ConditionalEstimate-java.lang.CharSequence-">LanguageModel.Conditional</a></code></span></div>
<div class="block">Returns the log (base 2) of the probabilty estimate for the
 conditional probability of the last character in the specified
 character sequence given the previous characters.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aliasi/lm/LanguageModel.Conditional.html#log2ConditionalEstimate-java.lang.CharSequence-">log2ConditionalEstimate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aliasi/lm/LanguageModel.Conditional.html" title="interface in com.aliasi.lm">LanguageModel.Conditional</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cSeq</code> - Character sequence to estimate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The log conditional probability estimate.</dd>
</dl>
</li>
</ul>
<a name="log2ConditionalEstimate-char:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log2ConditionalEstimate</h4>
<pre>public&nbsp;double&nbsp;log2ConditionalEstimate(char[]&nbsp;cs,
                                      int&nbsp;start,
                                      int&nbsp;end)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../com/aliasi/lm/LanguageModel.Conditional.html#log2ConditionalEstimate-char:A-int-int-">LanguageModel.Conditional</a></code></span></div>
<div class="block">Returns the log (base 2) of the probability estimate for the
 conditional probability of the last character in the specified
 slice given the previous characters.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aliasi/lm/LanguageModel.Conditional.html#log2ConditionalEstimate-char:A-int-int-">log2ConditionalEstimate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aliasi/lm/LanguageModel.Conditional.html" title="interface in com.aliasi.lm">LanguageModel.Conditional</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cs</code> - Underlying array of characters.</dd>
<dd><code>start</code> - Index of first character in slice.</dd>
<dd><code>end</code> - One plus the index of the last character in the slice.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The log conditional probability estimate.</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<div class="block">Returns a string-based representation of this compiled n-gram.
 It writes one row per line of the parallel indices.  It should
 probably not be called with very large models, as the resulting
 string will be much larger than the model itself.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String-based representation of this model.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/aliasi/lm/CompiledNGramBoundaryLM.html" title="class in com.aliasi.lm"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/aliasi/lm/CompiledTokenizedLM.html" title="class in com.aliasi.lm"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/aliasi/lm/CompiledNGramProcessLM.html" target="_top">Frames</a></li>
<li><a href="CompiledNGramProcessLM.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
